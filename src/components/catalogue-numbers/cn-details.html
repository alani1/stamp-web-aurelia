<template>
	<require from="../../value-converters/empty-text"></require>
	<require from="../../value-converters/as-currency"></require>
    <require from="../../widgets/select-picker/select-picker"></require>
	<div class="panel panel-default" validate.bind="validation">
		<div class="panel-heading">
			<h4 class="panel-title">Active Catalogue Number</h4>
		</div>
		<div class="panel-body">
			<div class="form-group form-group-sm">
				<label for="cn-catalogueRef" class="col-sm-3 control-label">Catalogue</label>
				<div class="col-sm-9">
                    <select-picker items.bind="catalogues" disabled.bind="loading" validate="catalogueRef" value.two-way="model.catalogueRef"
                                   config.bind="{ id: 'cn-catalogueRef', tabIndex: 70, labelProperty: 'displayName', valueProperty: 'id', caption: 'editor.catalogue-select' }">
                    </select-picker>
				</div>
			</div>
			<div class="form-group form-group-sm">
				<label for="cn-condition" class="col-sm-3 control-label">Condition</label>
				<div class="col-sm-4">
                    <select-picker items.bind="conditions" disabled.bind="loading" value.two-way="model.condition"
                                   config.bind="{ id: 'cn-condition', tabIndex: 75, labelProperty: 'description', valueProperty: 'ordinal', filterSearch: false, caption: 'editor.condition-select' }">
                    </select-picker>
				</div>
			</div>
			<div class="form-group form-group-sm has-feedback">
				<label for="cn-number" class="col-sm-3 control-label">Number</label>
				<div class="col-sm-3">
					<input type="text" tabindex="80" class="form-control" id="cn-number" validate="number" value.bind="model.number" aria-describedby="inputNumberStatus">
				</div>
				<div class="col-sm-1 packed-col">
					<span title.bind="conflictMessage" class="control-label sw-conversion ${icon}" click.trigger="convert()" disabled.bind="conversionModel !== undefined"></span>
                    <audio id="sw-exist-sound">
                        <source src="resources/sound/ring.ogg" type="audio/ogg">
                        <source src="resources/sound/ring.mp3" type="audio/mpeg">
                    </audio>
				</div>
                <span id="inputNumberStatus" class="sr-only"></span>
			</div>
			<div class="form-group form-group-sm">
				<label for="cn-value" class="col-sm-3 control-label"  disabled.bind="model.unknown">Value</label>
				<div class="col-sm-2">
					<input type="text" tabindex="85" class="form-control" id="cn-value" disabled.bind="model.unknown" value.bind="model.value" >
				</div>
				<div class="col-sm-2 packed-col">
					<div class="sw-currency-label control-label" innerhtml="${selectedCatalogue | asCurrency:'code'}"></div>
				</div>
			</div>
			<div class="checkbox">
				<span class="col-sm-3"></span>
                <label class="col-sm-9">
                    <input type="checkbox" tabindex="90" checked.bind="model.unknown">
                    <span>No value listed</span>
                </label>
			</div>
			<div class="checkbox">
				<span class="col-sm-3"></span>
                <label class="col-sm-9">
					<input type="checkbox" tabindex="95" checked.bind="model.nospace">
					<span>No album space available</span>
				</label>
			</div>

		</div>
	</div>
</template>
