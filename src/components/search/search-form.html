<template>
    <require from="../../widgets/date-picker/date-picker"></require>
    <require from="../../widgets/select-picker/select-picker"></require>
    <require from="../../value-converters/date-formatter"></require>
    <require from="resources/styles/components/search/search-form.css"></require>
    <div>
        <form class="form-horizontal">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">${'search.form-title'|t}</h4>
                </div>
                <div class="panel-body">
                    <div class="form-group form-group-sm has-feedback">
                        <label for="search-countryRef" class="col-sm-3 control-label">${'editor.country'|t}</label>
                        <div class="col-sm-9">
                            <select-picker items.bind="countries" class="country-selector" disabled.bind="loading" value.two-way="model.countryRef"
                                           config.bind="{ id: 'search-countryRef', tabIndex: 40, labelProperty: 'name', valueProperty: 'id', filterSearch: true, caption: 'editor.country-select' }"></select-picker>
                        </div>
                    </div>
                    <div class="form-group form-group-sm has-feedback">
                        <label for="search-stampCollectionRef" class="col-sm-3 control-label">${'editor.stamp-collection'|t}</label>
                        <div class="col-sm-9">
                            <select-picker items.bind="stampCollections" class="stampCollection-selector" disabled.bind="loading" value.two-way="model.stampCollectionRef"
                                           config.bind="{ id: 'search-stampCollectionRef', tabIndex: 40, labelProperty: 'name', valueProperty: 'id', filterSearch: true, caption: 'editor.stamp-collection-select' }"></select-picker>
                        </div>
                    </div>
                    <div class="form-group form-group-sm has-feedback">
                        <label for="search-albumRef" class="col-sm-3 control-label">Album</label>
                        <div class="col-sm-9">
                            <select-picker items.bind="albums" class="album-selector" disabled.bind="loading"  value.two-way="model.albumRef"
                                           config.bind="{ id: 'search-albumRef', tabIndex: 100, name: 'albumRef', labelProperty: 'name', valueProperty: 'id', caption: 'editor.album-select' }">
                            </select-picker>
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <label for="search-sellerRef" class="col-sm-3 control-label">${'editor.seller'|t}</label>
                        <div class="col-sm-9">
                            <select-picker items.bind="sellers" class="seller-selector" disabled.bind="loading"  value.two-way="model.sellerRef"
                                           config.bind="{ id: 'search-sellerRef', tabIndex: 110, name: 'sellerRef', labelProperty: 'name', valueProperty: 'id', caption: 'editor.seller-select' }">
                            </select-picker>
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <label for="search-purchased" class="col-sm-3 control-label">${'editor.purchased'|t}</label>
                        <div class="col-sm-9" id="search-purchased">
                            <span>
                                <label class="control-label">${'search.from'|t}</label>
                                <date-picker id="search-purchased-start" tabindex="120" value.two-way="model.purchasedStart | dateFormatter"></date-picker>
                            </span>
                            <span>
                                <label class="control-label">${'search.to'|t}</label>
                                <date-picker id="search-purchased-end" tabindex="120" value.two-way="model.purchasedEnd | dateFormatter"></date-picker>
                            </span>


                        </div>

                    </div>
                </div>
            </div>
            <div class="search-button-bar">
                <div class="checkbox col-sm-6">
                    <label>
                        <input type="checkbox" checked.bind="minimizeOnSearch">
                        <span>${'search.minimize'|t}</span>
                    </label>
                </div>

                <div class="editor-buttons col-sm-6">
                    <button type="button" class="btn btn-sm btn-default" click.delegate="search()">Search</button>
                    <button type="button" class="btn btn-sm btn-default" click.delegate="reset()">Reset</button>
                </div>
            </div>

        </form>
    </div>
</template>
