<template>
    <require from="../../widgets/select-picker/select-picker"></require>
    <require from="../../value-converters/as-percentage"></require>
    <require from="resources/styles/views/stamps/purchase-form.css"></require>
    <dialog class="purchase-form">
        <dialog-body>
            <div class="well well-sm">${'editor.purchase-help'|t}</div>
            <form class="form-horizontal">
                <div class="form-group form-group-sm">
                    <label for="price-paid" class="col-sm-3 control-label">${'editor.purchase-total'|t}</label>
                    <div class="input-group col-md-9">
                        <input type="text" tabindex="110" class="form-control price-paid" id="price-paid"
                               value.bind="model.price" keyup.delegate="priceChanged()">
                        <select id="currency-code" tabindex="115" class="currency-selector form-control"
                                value.bind="model.code">
                            <option repeat.for="cur of codes" model.bind="cur.keyName">${cur.description|t}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group form-group-sm">
                    <div class="col-sm-offset-2">
                        <div class="checkbox">
					        <span>
						        <input type="checkbox" id="update-existing" checked.bind="model.updateExisting">${'editor.modify-existing'|t}
					        </span>
                        </div>
                    </div>
                </div>
                <div class="form-group form-group-sm ${(percentage <= 0) ? 'percentage-not-valid' : ''}">
                    <label class="col-sm-3 control-label">${'editor.purchase-percentage'|t}</label>
                    <div class="col-md-9 control-label purchase-percentage">
                        <span>${percentage | asPercentage}</span>
                    </div>
                </div>
            </form>

        </dialog-body>

        <dialog-footer>
            <button class="btn btn-primary" click.trigger="controller.ok(model)">Ok</button>
            <button class="btn" click.trigger="controller.cancel()">Cancel</button>
        </dialog-footer>
    </dialog>
</template>
